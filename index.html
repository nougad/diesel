
<!DOCTYPE html> 
<html> 
<head> 
<title>Diesel</title> 
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
<script> 
var map;

var markersArray = [];

var berlin = new google.maps.LatLng(52.46507,13.434649);
  function initialize() {


	var mapOptions = {
	  zoom: 15,
	  center: berlin,
	  mapTypeId: google.maps.MapTypeId.ROADMAP
	};

	map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

      google.maps.event.addListener(map, 'bounds_changed', function() {
		  var bounds = map.getBounds();
		  var southWest = bounds.getSouthWest();
		  var northEast = bounds.getNorthEast();
		  var lngSpan = northEast.lng() - southWest.lng();
		  var latSpan = northEast.lat() - southWest.lat();


		document.getElementById('swlat').innerText = southWest.lat()
		document.getElementById('swlng').innerText = southWest.lng()		
		document.getElementById('nelat').innerText = northEast.lat()
		document.getElementById('nelng').innerText = northEast.lng()
	// alert(bounds);
	  });

  }

function addmarker(lat, lng, color, name, link) {
    var myLatlng = new google.maps.LatLng(lat,lng);
	var contentString = '<div id="content">'+
        '<div id="siteNotice">'+
'<a href="' + link + '" target="_blank">' + name + '</a>';
        '</div>';

    var infowindow = new google.maps.InfoWindow({
        content: contentString
    });

    var marker = new google.maps.Marker({
        position: myLatlng,
        map: map,
		icon: color + '.png',
        title: name
    });
markersArray.push(marker);
    google.maps.event.addListener(marker, 'click', function() {
      infowindow.open(map,marker);
    });
}


function addmenu(title) {
		menu = document.getElementById('menu')
		menu.innerHTML = menu.innerHTML + '<a href="#">' + title + "</a><br>"
}

function resetMarkers() {
  if (markersArray) {
    for (i in markersArray) {
      markersArray[i].setMap(null);
    }
  }
}


</script> 
</head> 
<body onload="initialize()"> 
  <div id="map_canvas" style="width: 600px; height: 300px;"></div> 
<div style="position:absolute; top:0; right:0;">
Southwest LAT: <b id="swlat"></b><br>
Southwest LNG: <b id="swlng"></b><br>
<br>
Northeast LAT: <b id="nelat"></b><br>
Northeast LNG: <b id="nelng"></b><br>

<br><br>

<a href="#" onclick="addmarker(52.46507,13.434649, 'green', 'zu kahbeh', 'http://kahbeh.de');">klick</a>
<a href="#" onclick="addmarker(52.46507,13.444649, 'yellow', 'zu google', 'http://google.de');">klick2</a>
<a href="#" onclick="resetMarkers();">reset</a>
<a href="#" onclick="addmenu('neuesmenu')">addmenu</a>
</div>

<div id="menu" style="position:absolute; right:0; bottom:0;">
	
</div>

</body> 
</html>